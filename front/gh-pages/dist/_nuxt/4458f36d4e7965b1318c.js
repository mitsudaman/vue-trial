/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[6,4],{284:function(t,e,o){var s={"./af":157,"./af.js":157,"./ar":158,"./ar-dz":159,"./ar-dz.js":159,"./ar-kw":160,"./ar-kw.js":160,"./ar-ly":161,"./ar-ly.js":161,"./ar-ma":162,"./ar-ma.js":162,"./ar-sa":163,"./ar-sa.js":163,"./ar-tn":164,"./ar-tn.js":164,"./ar.js":158,"./az":165,"./az.js":165,"./be":166,"./be.js":166,"./bg":167,"./bg.js":167,"./bm":168,"./bm.js":168,"./bn":169,"./bn.js":169,"./bo":170,"./bo.js":170,"./br":171,"./br.js":171,"./bs":172,"./bs.js":172,"./ca":173,"./ca.js":173,"./cs":174,"./cs.js":174,"./cv":175,"./cv.js":175,"./cy":176,"./cy.js":176,"./da":177,"./da.js":177,"./de":178,"./de-at":179,"./de-at.js":179,"./de-ch":180,"./de-ch.js":180,"./de.js":178,"./dv":181,"./dv.js":181,"./el":182,"./el.js":182,"./en-au":183,"./en-au.js":183,"./en-ca":184,"./en-ca.js":184,"./en-gb":185,"./en-gb.js":185,"./en-ie":186,"./en-ie.js":186,"./en-il":187,"./en-il.js":187,"./en-nz":188,"./en-nz.js":188,"./eo":189,"./eo.js":189,"./es":190,"./es-do":191,"./es-do.js":191,"./es-us":192,"./es-us.js":192,"./es.js":190,"./et":193,"./et.js":193,"./eu":194,"./eu.js":194,"./fa":195,"./fa.js":195,"./fi":196,"./fi.js":196,"./fo":197,"./fo.js":197,"./fr":198,"./fr-ca":199,"./fr-ca.js":199,"./fr-ch":200,"./fr-ch.js":200,"./fr.js":198,"./fy":201,"./fy.js":201,"./gd":202,"./gd.js":202,"./gl":203,"./gl.js":203,"./gom-latn":204,"./gom-latn.js":204,"./gu":205,"./gu.js":205,"./he":206,"./he.js":206,"./hi":207,"./hi.js":207,"./hr":208,"./hr.js":208,"./hu":209,"./hu.js":209,"./hy-am":210,"./hy-am.js":210,"./id":211,"./id.js":211,"./is":212,"./is.js":212,"./it":213,"./it.js":213,"./ja":214,"./ja.js":214,"./jv":215,"./jv.js":215,"./ka":216,"./ka.js":216,"./kk":217,"./kk.js":217,"./km":218,"./km.js":218,"./kn":219,"./kn.js":219,"./ko":220,"./ko.js":220,"./ky":221,"./ky.js":221,"./lb":222,"./lb.js":222,"./lo":223,"./lo.js":223,"./lt":224,"./lt.js":224,"./lv":225,"./lv.js":225,"./me":226,"./me.js":226,"./mi":227,"./mi.js":227,"./mk":228,"./mk.js":228,"./ml":229,"./ml.js":229,"./mn":230,"./mn.js":230,"./mr":231,"./mr.js":231,"./ms":232,"./ms-my":233,"./ms-my.js":233,"./ms.js":232,"./mt":234,"./mt.js":234,"./my":235,"./my.js":235,"./nb":236,"./nb.js":236,"./ne":237,"./ne.js":237,"./nl":238,"./nl-be":239,"./nl-be.js":239,"./nl.js":238,"./nn":240,"./nn.js":240,"./pa-in":241,"./pa-in.js":241,"./pl":242,"./pl.js":242,"./pt":243,"./pt-br":244,"./pt-br.js":244,"./pt.js":243,"./ro":245,"./ro.js":245,"./ru":246,"./ru.js":246,"./sd":247,"./sd.js":247,"./se":248,"./se.js":248,"./si":249,"./si.js":249,"./sk":250,"./sk.js":250,"./sl":251,"./sl.js":251,"./sq":252,"./sq.js":252,"./sr":253,"./sr-cyrl":254,"./sr-cyrl.js":254,"./sr.js":253,"./ss":255,"./ss.js":255,"./sv":256,"./sv.js":256,"./sw":257,"./sw.js":257,"./ta":258,"./ta.js":258,"./te":259,"./te.js":259,"./tet":260,"./tet.js":260,"./tg":261,"./tg.js":261,"./th":262,"./th.js":262,"./tl-ph":263,"./tl-ph.js":263,"./tlh":264,"./tlh.js":264,"./tr":265,"./tr.js":265,"./tzl":266,"./tzl.js":266,"./tzm":267,"./tzm-latn":268,"./tzm-latn.js":268,"./tzm.js":267,"./ug-cn":269,"./ug-cn.js":269,"./uk":270,"./uk.js":270,"./ur":271,"./ur.js":271,"./uz":272,"./uz-latn":273,"./uz-latn.js":273,"./uz.js":272,"./vi":274,"./vi.js":274,"./x-pseudo":275,"./x-pseudo.js":275,"./yo":276,"./yo.js":276,"./zh-cn":277,"./zh-cn.js":277,"./zh-hk":278,"./zh-hk.js":278,"./zh-tw":279,"./zh-tw.js":279};function i(t){var e=n(t);return o(e)}function n(t){var e=s[t];if(!(e+1)){var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}return e}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id=284},289:function(t,e,o){var s=o(357);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,o(13).default)("2f6e9bdc",s,!0,{})},300:function(t,e,o){"use strict";o.r(e);var s=o(291),i=s.c.reactiveProp;e.default={extends:s.b,mixins:[i],props:["options"],mounted:function(){this.renderChart(this.chartData,this.options)}}},355:function(t,e){!function(){"use strict";if("undefined"!=typeof Chart){"function"!=typeof Object.assign&&(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),s=1;s<arguments.length;s++){var i=arguments[s];if(null!=i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o});var t={};["pie","doughnut","polarArea","bar"].forEach(function(e){t[e]=!0}),e.prototype.setup=function(t,e){this.chart=t,this.ctx=t.ctx,this.args={},this.barTotal={};var o=t.config.options;this.options=Object.assign({position:"default",precision:0,fontSize:o.defaultFontSize,fontColor:o.defaultFontColor,fontStyle:o.defaultFontStyle,fontFamily:o.defaultFontFamily,shadowOffsetX:3,shadowOffsetY:3,shadowColor:"rgba(0,0,0,0.3)",shadowBlur:6,images:[],outsidePadding:2,textMargin:2,overlap:!0},e),"bar"===t.config.type&&(this.options.position="default",this.options.arc=!1,this.options.overlap=!0)},e.prototype.render=function(){this.labelBounds=[],this.chart.data.datasets.forEach(this.renderToDataset)},e.prototype.renderToDataset=function(t,e){this.totalPercentage=0,this.total=null;var o=this.args[e];o.meta.data.forEach(function(e,s){this.renderToElement(t,o,e,s)}.bind(this))},e.prototype.renderToElement=function(t,e,o,s){if(this.shouldRenderToElement(e.meta,o)){this.percentage=null;var i=this.getLabel(t,o,s);if(i){var n=this.ctx;n.save(),n.font=Chart.helpers.fontString(this.options.fontSize,this.options.fontStyle,this.options.fontFamily);var a=this.getRenderInfo(o,i);this.drawable(o,i,a)?(n.beginPath(),n.fillStyle=this.getFontColor(t,o,s),this.renderLabel(i,a),n.restore()):n.restore()}}},e.prototype.renderLabel=function(t,e){return this.options.arc?this.renderArcLabel(t,e):this.renderBaseLabel(t,e)},e.prototype.renderBaseLabel=function(t,e){var o=this.ctx;if("object"==typeof t)o.drawImage(t,e.x-t.width/2,e.y-t.height/2,t.width,t.height);else{o.save(),o.textBaseline="top",o.textAlign="center",this.options.textShadow&&(o.shadowOffsetX=this.options.shadowOffsetX,o.shadowOffsetY=this.options.shadowOffsetY,o.shadowColor=this.options.shadowColor,o.shadowBlur=this.options.shadowBlur);for(var s=t.split("\n"),i=0;i<s.length;i++){var n=e.y-this.options.fontSize/2*s.length+this.options.fontSize*i;o.fillText(s[i],e.x,n)}o.restore()}},e.prototype.renderArcLabel=function(t,e){var o=this.ctx,s=e.radius,i=e.view;if(o.save(),o.translate(i.x,i.y),"string"==typeof t){o.rotate(e.startAngle),o.textBaseline="middle",o.textAlign="left";var n=t.split("\n"),a=0,r=[],l=0;"border"===this.options.position&&(l=(n.length-1)*this.options.fontSize/2);for(var h=0;h<n.length;++h){var c=o.measureText(n[h]);c.width>a&&(a=c.width),r.push(c.width)}for(h=0;h<n.length;++h){var d=n[h],u=(n.length-1-h)*-this.options.fontSize+l;o.save();var f=(a-r[h])/2;o.rotate(f/s);for(var p=0;p<d.length;p++){var g=d.charAt(p);c=o.measureText(g),o.save(),o.translate(0,-1*s),o.fillText(g,0,u),o.restore(),o.rotate(c.width/s)}o.restore()}}else o.rotate((i.startAngle+Math.PI/2+e.endAngle)/2),o.translate(0,-1*s),this.renderLabel(t,{x:0,y:0});o.restore()},e.prototype.shouldRenderToElement=function(t,e){return!t.hidden&&!e.hidden&&(this.options.showZero||"polarArea"===this.chart.config.type?0!==e._view.outerRadius:0!==e._view.circumference)},e.prototype.getLabel=function(t,e,o){var s;if("function"==typeof this.options.render)s=this.options.render({label:this.chart.config.data.labels[o],value:t.data[o],percentage:this.getPercentage(t,e,o),dataset:t,index:o});else switch(this.options.render){case"value":s=t.data[o];break;case"label":s=this.chart.config.data.labels[o];break;case"image":s=this.options.images[o]?this.loadImage(this.options.images[o]):"";break;case"percentage":default:s=this.getPercentage(t,e,o)+"%"}return"object"==typeof s?s=this.loadImage(s):null!=s&&(s=s.toString()),s},e.prototype.getFontColor=function(t,e,o){var s=this.options.fontColor;return"function"==typeof s?s=s({label:this.chart.config.data.labels[o],value:t.data[o],percentage:this.getPercentage(t,e,o),backgroundColor:t.backgroundColor[o],dataset:t,index:o}):"string"!=typeof s&&(s=s[o]||this.chart.config.options.defaultFontColor),s},e.prototype.getPercentage=function(t,e,o){if(null!==this.percentage)return this.percentage;var s;if("polarArea"===this.chart.config.type){if(null===this.total){this.total=0;for(var i=0;i<t.data.length;++i)this.total+=t.data[i]}s=t.data[o]/this.total*100}else if("bar"===this.chart.config.type){if(void 0===this.barTotal[o]){this.barTotal[o]=0;for(i=0;i<this.chart.data.datasets.length;++i)this.barTotal[o]+=this.chart.data.datasets[i].data[o]}s=t.data[o]/this.barTotal[o]*100}else s=e._view.circumference/this.chart.config.options.circumference*100;return s=parseFloat(s.toFixed(this.options.precision)),this.options.showActualPercentages||("bar"===this.chart.config.type&&(this.totalPercentage=this.barTotalPercentage[o]||0),this.totalPercentage+=s,this.totalPercentage>100&&(s-=this.totalPercentage-100,s=parseFloat(s.toFixed(this.options.precision))),"bar"===this.chart.config.type&&(this.barTotalPercentage[o]=this.totalPercentage)),this.percentage=s,s},e.prototype.getRenderInfo=function(t,e){return"bar"===this.chart.config.type?this.getBarRenderInfo(t,e):this.options.arc?this.getArcRenderInfo(t,e):this.getBaseRenderInfo(t,e)},e.prototype.getBaseRenderInfo=function(t,e){if("outside"===this.options.position||"border"===this.options.position){var o,s,i=t._view,n=i.startAngle+(i.endAngle-i.startAngle)/2,a=i.outerRadius/2;if("border"===this.options.position?s=(i.outerRadius-a)/2+a:"outside"===this.options.position&&(s=i.outerRadius-a+a+this.options.textMargin),o={x:i.x+Math.cos(n)*s,y:i.y+Math.sin(n)*s},"outside"===this.options.position){var r=this.options.textMargin+this.measureLabel(e).width/2;o.x+=o.x<i.x?-r:r}return o}return t.tooltipPosition()},e.prototype.getArcRenderInfo=function(t,e){var o,s=t._view;o="outside"===this.options.position?s.outerRadius+this.options.fontSize+this.options.textMargin:"border"===this.options.position?(s.outerRadius/2+s.outerRadius)/2:(s.innerRadius+s.outerRadius)/2;var i=s.startAngle,n=s.endAngle,a=n-i;return i+=Math.PI/2,{radius:o,startAngle:i+=((n+=Math.PI/2)-(this.measureLabel(e).width/o+i))/2,endAngle:n,totalAngle:a,view:s}},e.prototype.getBarRenderInfo=function(t,e){var o=t.tooltipPosition();return o.y-=this.measureLabel(e).height/2+this.options.textMargin,o},e.prototype.drawable=function(t,e,o){if(this.options.overlap)return!0;if(this.options.arc)return o.endAngle-o.startAngle<=o.totalAngle;var s=this.measureLabel(e),i=o.x-s.width/2,n=o.x+s.width/2,a=o.y-s.height/2,r=o.y+s.height/2;return"outside"===this.options.renderInfo?this.outsideInRange(i,n,a,r):t.inRange(i,a)&&t.inRange(i,r)&&t.inRange(n,a)&&t.inRange(n,r)},e.prototype.outsideInRange=function(t,e,o,s){for(var i=this.labelBounds,n=0;n<i.length;++n){for(var a=i[n],r=[[t,o],[t,s],[e,o],[e,s]],l=0;l<r.length;++l){var h=r[l][0],c=r[l][1];if(h>=a.left&&h<=a.right&&c>=a.top&&c<=a.bottom)return!1}r=[[a.left,a.top],[a.left,a.bottom],[a.right,a.top],[a.right,a.bottom]];for(l=0;l<r.length;++l){h=r[l][0],c=r[l][1];if(h>=t&&h<=e&&c>=o&&c<=s)return!1}}return i.push({left:t,right:e,top:o,bottom:s}),!0},e.prototype.measureLabel=function(t){if("object"==typeof t)return{width:t.width,height:t.height};for(var e=0,o=t.split("\n"),s=0;s<o.length;++s){var i=this.ctx.measureText(o[s]);i.width>e&&(e=i.width)}return{width:e,height:this.options.fontSize*o.length}},e.prototype.loadImage=function(t){var e=new Image;return e.src=t.src,e.width=t.width,e.height=t.height,e},Chart.plugins.register({id:"labels",beforeDatasetsUpdate:function(o,s){if(t[o.config.type]){Array.isArray(s)||(s=[s]);var i=s.length;o._labels&&i===o._labels.length||(o._labels=s.map(function(){return new e}));for(var n=!1,a=0,r=0;r<i;++r){var l=o._labels[r];if(l.setup(o,s[r]),"outside"===l.options.position){n=!0;var h=1.5*l.options.fontSize+l.options.outsidePadding;h>a&&(a=h)}}n&&(o.chartArea.top+=a,o.chartArea.bottom-=a)}},afterDatasetUpdate:function(e,o,s){t[e.config.type]&&e._labels.forEach(function(t){t.args[o.index]=o})},beforeDraw:function(e){t[e.config.type]&&e._labels.forEach(function(t){t.barTotalPercentage={}})},afterDatasetsDraw:function(e){t[e.config.type]&&e._labels.forEach(function(t){t.render()})}})}else console.error("Can not find Chart object.");function e(){this.renderToDataset=this.renderToDataset.bind(this)}}()},356:function(t,e,o){"use strict";var s=o(289);o.n(s).a},357:function(t,e,o){(t.exports=o(12)(!1)).push([t.i,"\n.small{max-width:600px;margin:150px auto\n}\n#colorBox{margin-top:7px;width:20px;height:25px\n}\n.delete-btn{background-color:#fff;color:red;border:1px solid red\n}\n.delete-btn:hover{background-color:#f86c6b;color:#fff;border:1px solid red\n}",""])},363:function(t,e,o){"use strict";o.r(e);var s=o(300),i=(o(355),{components:{PieChart:s.default},data:function(){return{activeColor:"black",datacollection:null,chartOptions:{title:{display:!0,fontSize:35,text:"タイムスケジュール"},plugins:{labels:[{render:function(t){var e;if(0==t.index)e="0 ~ "+t.value;else{for(var o=0,s=0,i=0;i<t.index;i++)i!=t.dataset.data.length-1&&(s=(o+=t.dataset.data[i])+t.value);e=o+"~"+s}return e},fontSize:14,fontStyle:"bold",fontColor:"#000",position:"outside"},{render:"label",fontSize:14,fontStyle:"bold",fontColor:"#000"}]}},datas:[],baseColors:["#ff7675","#fd79a8","#fdcb6e","#ffeaa7","#00b894","#55efc4","#0984e3","#74b9ff","#a29bfe","#b2bec3"],graphColors:[],labels:[],schedules:[{colorNo:0,fromTime:0,toTime:1,plan:""}],timeOptions:function(){for(var t=[],e=0;e<=24;e+=.5)t.push({value:e,text:e});return t}}},mounted:function(){this.fillData()},methods:{fillData:function(){this.setChartParam(),this.datacollection={datasets:[{data:this.datas,backgroundColor:this.graphColors}],labels:this.labels}},setChartParam:function(){this.datas=[],this.graphColors=[],this.labels=[];for(var t=0;t<this.schedules.length;t++){this.datas.push(this.schedules[t].toTime-this.schedules[t].fromTime);var e=this.baseColors[this.schedules[t].colorNo];this.graphColors.push(e);var o=this.schedules[t].plan;this.labels.push(o)}if(this.schedules.slice(-1)[0].toTime<24){this.datas.push(24-this.schedules.slice(-1)[0].toTime);e=this.baseColors[(this.schedules.length+1)%this.baseColors.length];this.graphColors.push(e),this.labels.push("その他")}},selectToTime:function(){this.toTimeEqualizeNextFromTime()},toTimeEqualizeNextFromTime:function(){for(var t=0;t<this.schedules.length;t++)t!=this.schedules.length-1&&(this.schedules[t+1].fromTime=this.schedules[t].toTime)},onAddSchedule:function(){var t=this.schedules.slice(-1)[0].toTime;this.schedules.push({colorNo:this.schedules.length,fromTime:t,toTime:t+1,plan:""})},onDeleteSchedule:function(){this.schedules.length>1&&this.schedules.splice(this.schedules.length-1,1)},onSetSample:function(){this.schedules=[{colorNo:0,fromTime:0,toTime:7,plan:"寝る"},{colorNo:1,fromTime:7,toTime:8,plan:"準備＆通勤"},{colorNo:2,fromTime:8,toTime:12,plan:"仕事"},{colorNo:3,fromTime:12,toTime:13,plan:"お昼"},{colorNo:4,fromTime:13,toTime:17,plan:"仕事"},{colorNo:5,fromTime:17,toTime:18,plan:"退勤"},{colorNo:6,fromTime:18,toTime:20,plan:"夜ご飯＆風呂"},{colorNo:7,fromTime:20,toTime:22,plan:"副業"},{colorNo:8,fromTime:22,toTime:24,plan:"自由"}],this.schedules.push()},onDownload:function(){var t=document.getElementById("pie-chart"),e=document.createElement("a");e.href=t.toDataURL("image/png"),e.download="time_schedule.png",e.click()},onChangeColor:function(t){this.schedules[t].colorNo=(this.schedules[t].colorNo+1)%this.baseColors.length}}}),n=(o(356),o(17)),a=Object(n.a)(i,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-container",{staticClass:"mt-5"},[o("div",{staticClass:"card p-1"},[o("b-row",[o("b-col",{attrs:{lg:"7"}},[o("div",[o("pie-chart",{attrs:{"chart-data":t.datacollection,options:t.chartOptions}}),t._v(" "),o("b-button",{attrs:{id:"download"},on:{click:function(e){t.onDownload()}}},[t._v("download")])],1)]),t._v(" "),o("b-col",{attrs:{lg:"5"}},[o("b-row",{staticClass:"mt-5"},[o("b-col",{attrs:{cols:"1"}}),t._v(" "),o("b-col",{attrs:{cols:"3"}},[o("label",[t._v("From")])]),t._v(" "),o("b-col",{attrs:{cols:"3"}},[o("label",[t._v("To")])]),t._v(" "),o("b-col",{attrs:{cols:"5"}},[o("label",[t._v("スケジュール")])])],1),t._v(" "),t._l(t.schedules,function(e,s){return o("b-row",{key:e.id},[o("b-col",{attrs:{cols:"1"}},[o("b-button",{style:{backgroundColor:t.baseColors[e.colorNo]},attrs:{id:"colorBox"},on:{click:function(e){t.onChangeColor(s)}}})],1),t._v(" "),o("b-col",{attrs:{cols:"3"}},[o("p",{staticClass:"form-control"},[t._v(t._s(e.fromTime))])]),t._v(" "),o("b-col",{attrs:{cols:"3"}},[o("b-form-select",{staticClass:"mb-3",attrs:{options:t.timeOptions()},on:{input:function(e){t.selectToTime()}},model:{value:e.toTime,callback:function(o){t.$set(e,"toTime",o)},expression:"schedule.toTime"}})],1),t._v(" "),o("b-col",{attrs:{cols:"5"}},[o("b-form-input",{model:{value:e.plan,callback:function(o){t.$set(e,"plan",o)},expression:"schedule.plan"}})],1)],1)}),t._v(" "),o("b-row",[o("b-col",{attrs:{cols:"6"}}),t._v(" "),o("b-col",{attrs:{cols:"3"}},[o("b-button",{staticClass:"btn-block delete-btn",on:{click:function(e){t.onDeleteSchedule()}}},[t._v("削除")])],1),t._v(" "),o("b-col",{attrs:{cols:"3"}},[o("b-button",{staticClass:"btn-block",attrs:{variant:"primary"},on:{click:function(e){t.onAddSchedule()}}},[t._v("追加")])],1)],1)],2)],1),t._v(" "),o("b-row",{staticClass:"mt-4"},[o("b-col",{attrs:{lg:"8",cols:"12"}}),t._v(" "),o("b-col",{attrs:{lg:"2",cols:"6"}},[o("b-button",{staticClass:"btn-block mt-3",attrs:{variant:"primary"},on:{click:function(e){t.onSetSample()}}},[t._v("test")])],1),t._v(" "),o("b-col",{attrs:{lg:"2",cols:"6"}},[o("b-button",{staticClass:"btn-block mt-3",attrs:{variant:"primary"},on:{click:function(e){t.fillData()}}},[t._v("Set")])],1)],1)],1)])],1)},[],!1,null,null,null);a.options.__file="TimeSchedule.vue";e.default=a.exports}}]);